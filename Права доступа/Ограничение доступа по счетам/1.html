<html><pre>
Татьяна, высылаю краткое описание задачи (предварительный вариант)

Задача ╚Привязка к сделке в ручных операциях╩

В рамках данной задачи, при согласии на предложенное в комментариях задачи решение (до заказчика не дозвонилась), необходимо выполнить следующее:
1.	Создать таблицу GL_BSSDEAL для хранения счетов 2го порядка (должны предоставить список), по которым счета открываются под сделку и/или субсделку, включая принадлежность к источнику (FC12 и IMEX) и с соблюдением уникальности по б/счету и источнику, добавив признак обязательности заполнения номера субсделки для FC12
2.	При вводе операции проверять соответствие вводимого счета счетам в таблицах GL_BSSDEAL и GL_ACC и при нахождении соответствия, если номер сделки и субсделки в форме пустые, добавлять соответствующие поля из атрибутов счета таблицы GL_ACC. 
Если атрибуты сделки в счете заполнены и не совпадают с введенными значениями в форме, выдавать сообщение с возможностью замены или отказа от замены. 
При отсутствии у счета атрибутов сделки проверять только обязательность заполнения полей в форме по условию:
∙	Номер сделки/платежа √ поле обязательное в текущем функционале
∙	Номер субсделки √ должно быть обязательным для FC12 при соответствии списку б/счетов таблицы GL_BSSDEAL
3.	При загрузке из файла проверять при первой же валидации (на уровне проверки содержимого файла) обязательность заполнения полей Номер сделки (для FC12 и IMEX) и Номер субсделки (для FC12), если б/счета 2го порядка счетов, участвующих в операции, соответствуют счетам из таблицы GL_BSSDEAL. При нахождении соответствия и при пустом поле номер сделки или номер субсделки браковать файл с ошибкой заполнения атрибутов сделки 

Могу предположить (точнее скажет разработчик) √ доработка займет 6-8 р. дней, включая тестирование

Задача требует еще уточнения у постановщика. Никифоров будет, как и я, через две недели. Тогда и обсудим детали и сможем оценить доработку.


С уважением,
Фигаровская Наталья
Тел. 9182


</pre>
</html>